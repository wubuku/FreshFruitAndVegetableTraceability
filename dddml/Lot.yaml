aggregates:
  Lot:
    id:
      name: LotId
      type: id
    # reservedPropertyMetadata:
    #   noActive: true
    #   active:
    #     name: "__Active__"

    properties:
      Quantity:
        type: fixed-point
      ExpirationDate:
        type: date-time
      LotIdentifications:
        itemType: LotIdentification
      Active:
        type: indicator
      Gs1Batch:
        description: "GS1 BATCH (AI=10)"
        type: id
        # 可以用于“暂存” GS1 Batch 信息，以便在后续的处理中使用。
      InternalId:
        type: id

    entities:
      LotIdentification:
        id:
          name: LotIdentificationTypeId
          type: id
        globalId:
          name: LotIdentificationId
          type: LotIdentificationId
          columnNames:
            - lot_id
            - lot_identification_type_id
        properties:
          IdValue:
            type: id-long
          # -------------------------------------------------------
          # 以下属性用于将 Traceability Lot Code 映射到 LotId。
          # 此时，Id Value 的格式可以为 `(01){Gtin}(10){GS1 Batch}`
          # -------------------------------------------------------
          Gtin:
            type: id
            # GTIN
          Gs1Batch:
            type: id
          SourceFacilityId:
            type: id
            description: "The facility (location) where TLC was assigned during initial packing or transformation"


  LotIdentificationType:
    id:
      name: LotIdentificationTypeId
      type: id
    properties:
      Description:
        type: description
