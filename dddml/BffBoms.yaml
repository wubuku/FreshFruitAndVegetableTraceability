# BOM 有关
valueObjects:
  BffProductAssociationDto:
    metadata:
      JpaProjectionInterfaceName: BffProductAssociationProjection
      JpaProjectionPropertyTypes:
        FromDate: java.time.Instant
        ThruDate: java.time.Instant
        CreatedAt: java.time.Instant
      NoFlattenedProperties: true
    properties:
      ProductId:
        type: id
      InternalId:
        type: id
      ProductName:
        type: name
      ProductIdTo:
        type: id
      ProductAssocTypeId:
        type: id
      SequenceNum:
        type: numeric
      FromDate:
        type: date-time
      Quantity:
        type: fixed-point
      ScrapFactor:
        type: fixed-point
      CreateAt:
        type: date-time
      CreatedBy:
        type: id
      Components:
        itemType: BffProductAssociationDto
        isList: true

  CreateBomVo:
    properties:
      ProductId:
        type: id
      Components:
        itemType: ProductToVo
        isList: true

  ProductToVo:
    properties:
      ProductId:
        type: id
#      SequenceNum:
#        type: numeric
      Quantity:
        type: fixed-point
      ScrapFactor:
        type: fixed-point

services:
  BffBomService:
    restfulResourceName: BffBoms
    methods:
      CreateBom:
        httpMethod: POST
        metadata:
          HttpRequestBody: Bom
        parameters:
          Bom:
            type: CreateBomVo