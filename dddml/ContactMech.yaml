aggregates:

  ContactMech:
    abstract: true
    displayName: Contact Mechanism
    discriminator: ContactMechTypeId
    discriminatorValue: "CONTACT_MECH"
    inheritanceMappingStrategy: tpch
    # ---------------------
    id:
      name: ContactMechId
      type: id
      
    properties:
      ContactMechTypeId:
        type: id
      InfoString:
        type: long-varchar
      AskForName:
        type: name
        # 请求接洽者名字

    subtypes:
      MiscContactMech:
        displayName: Miscellaneous Contact Mechanism
        discriminatorValue: "MISC_CONTACT_MECH"
        description: "A catch-all category for contact mechanisms that don't fit into standard categories like phone, postal address, etc."
        properties:
          Email:
            type: id # todo: email?
          AskForRole:
            # 请求接洽者角色
            type: name


  ContactMechPurposeType:
    metadata:
      NoEventSourcing: true
    id:
      name: ContactMechPurposeTypeId
      type: id
    properties:
      ParentTypeId:
        columnName: PARENT_TYPE_ID
        type: id-ne
      HasTable:
        columnName: HAS_TABLE
        type: indicator
      Description:
        columnName: DESCRIPTION
        type: description

